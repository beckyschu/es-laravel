<div>
    <div class="remodal" data-remodal-id="importer">
        <button data-remodal-action="cancel" class="remodal-close"></button>

        <h1 class="subtitle"><i class="fa fa-cloud-upload" aria-hidden="true"></i> Import listings</h1>

        <div class="alert"><p>You may upload a CSV file containing listing data for the platform selected below. At the very least, the URL needs to be populated for each row.</p></div>

        <form v-on:submit.prevent="upload()" method="post" class="form" enctype="multipart/form-data">
            <label for="platform">Platform</label>
            <div class="form__select">

                <!-- <select name="platform" v-model="platform" v-chosen="platform">
                    <option v-for="(platform, key) in platforms" v-bind:value="key">{{ platform }}</option>
                </select> -->
                <multiselect id="platform" v-model="platform" :options="platformOptions" label="label" track-by="id"></multiselect>
            </div>

            <label for="file">CSV file</label>
            <div class="form__select">
                <input type="file" name="file" v-on:change="onFileChange" />
            </div>

            <div v-if="validationOutput" v-html="validationOutput"></div>

            <button type="submit" class="form__button form__button--spaced">
                <template v-if="isImporting">
                    <i class="fa fa-cog fa-spin"></i> Uploading
                </template>
                <template v-else>
                    Upload
                </template>
            </button>

            <a href="#" data-remodal-action="cancel" class="form__secondary">Cancel</a>
        </form>
    </div>
</div>
